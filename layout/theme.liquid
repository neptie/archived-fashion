<!DOCTYPE html>
<html lang="{{ request.locale.iso_code }}" class="h-full">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="theme-color" content="#FBF3E7">
    
    {{ content_for_header }}

    <title>{{ page_title | escape }}{% if current_tags %} - tagged "{{ current_tags | join: ', ' }}"{% endif %}{% if current_page != 1 %} - Page {{ current_page }}{% endif %}{% unless page_title contains shop.name %} - {{ shop.name }}{% endunless %}</title>
    
    {% if page_description %}
      <meta name="description" content="{{ page_description | escape }}">
    {% endif %}
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Big+Shoulders+Stencil+Display:wght@400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com" defer></script>
    <script>
      tailwind.config = {
        theme: {
          extend: {
            colors: {
              'cream': '#FBF3E7',
              'cream-light': '#FDF8F1',
              'cream-dark': '#F5E6D3',
              'text': '#1a1a1a',
              'accent': '#4dacff'
            },
            fontFamily: {
              stencil: ['"Big Shoulders Stencil Display"', 'sans-serif'],
              sans: ['"Big Shoulders Stencil Display"', 'sans-serif'],
              body: ['"Big Shoulders Stencil Display"', 'sans-serif']
            }
          }
        }
      }
    </script>

    <style>
      :root {
        --cream: #FBF3E7;
        --cream-light: #FDF8F1;
        --cream-dark: #F5E6D3;
        --text: #1a1a1a;
        --accent: #4dacff;
      }
      
      html {
        height: 100%;
        font-size: 16px;
      }
      
      body {
        font-family: 'Big Shoulders Stencil Display', sans-serif;
        background-color: var(--cream);
        color: var(--text);
        min-height: 100%;
        line-height: 1.5;
        font-size: 1.125rem;
        text-transform: uppercase;
        letter-spacing: 0.02em;
      }
      
      .japanese {
        font-family: 'Big Shoulders Stencil Display', sans-serif;
        font-weight: 600;
      }
      
      .station-pattern {
        background-image: 
          linear-gradient(90deg, rgba(77, 172, 255, 0.1) 1px, transparent 1px),
          linear-gradient(rgba(77, 172, 255, 0.1) 1px, transparent 1px);
        background-size: 20px 20px;
        mask-image: linear-gradient(to bottom, transparent, black 15%, black 85%, transparent);
      }
      
      .glass-panel {
        background: rgba(250, 243, 232, 0.8);
        backdrop-filter: blur(10px);
        border: 1px solid rgba(77, 172, 255, 0.3);
      }
      
      .arcade-button {
        position: relative;
        background: var(--cream-light);
        border: 2px solid var(--accent);
        color: var(--accent);
        padding: 0.75rem 1.5rem;
        font-family: 'Big Shoulders Stencil Display', sans-serif;
        text-transform: uppercase;
        letter-spacing: 0.1em;
        transition: all 0.3s ease;
        overflow: hidden;
        font-weight: 600;
      }
      
      .arcade-button:hover {
        background: var(--accent);
        color: white;
      }

      .container-fluid {
        width: 100%;
        max-width: 1280px;
        margin-left: auto;
        margin-right: auto;
        padding-left: 1rem;
        padding-right: 1rem;
      }

      @media (min-width: 640px) {
        .container-fluid {
          padding-left: 2rem;
          padding-right: 2rem;
        }
      }

      @media (min-width: 1024px) {
        .container-fluid {
          padding-left: 4rem;
          padding-right: 4rem;
        }
      }

      input, select, textarea {
        font-family: 'Big Shoulders Stencil Display', sans-serif;
        text-transform: uppercase;
        letter-spacing: 0.05em;
      }

      input:focus, select:focus, textarea:focus {
        outline: 2px solid var(--accent);
        outline-offset: -1px;
      }
    </style>
  </head>
  <body class="flex flex-col min-h-screen">
    <div class="absolute inset-0 station-pattern opacity-30 fixed"></div>
    
    {% section 'header' %}
    
    <main role="main" class="flex-grow relative">
      {{ content_for_layout }}
    </main>
    
    {% section 'footer' %}
  </body>
</html> 